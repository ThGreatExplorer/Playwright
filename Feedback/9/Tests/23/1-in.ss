( (tmodule pair (class NumPair (first second)) ( ((first Number) (second Number)) () ) ) (tmodule triple (class NumTriple (first second third)) ( ((first Number) (second Number) (third Number)) () ) ) (tmodule plant (import pair) (class Plant (age height) (method grow () (def curAge (this --> age)) (def curHeight (this --> height)) (def one 1.0) (this --> age = (curAge + one)) (this --> height = (curHeight + one)) (curAge = (this --> age)) (curHeight = (this --> height)) (new NumPair (curAge curHeight)) ) (method trimToHeight (height) (def curHeight (this --> height)) (this --> height = height) curHeight ) ) ( ((age Number) (height Number)) ( (grow () ( ((first Number) (second Number)) () ) ) (trimToHeight (Number) Number ) ) ) ) (tmodule garden (import triple) (import plant) (class ThreePlantGarden (plantOne plantTwo plantThree) (method getAllHeights () (def plantOne (this --> plantOne)) (def plantTwo (this --> plantTwo)) (def plantThree (this --> plantThree)) (def heightOne (plantOne --> height)) (def heightTwo (plantTwo --> height)) (def heightThree (plantThree --> height)) (new NumTriple (heightOne heightTwo heightThree)) ) (method getAllAges () (def plantOne (this --> plantOne)) (def plantTwo (this --> plantTwo)) (def plantThree (this --> plantThree)) (def ageOne (plantOne --> age)) (def ageTwo (plantTwo --> age)) (def ageThree (plantThree --> age)) (new NumTriple (ageOne ageTwo ageThree)) ) (method growPlantTwo () (def plantTwo (this --> plantTwo)) (plantTwo --> grow ()) ) (method growAll () (def plantOne (this --> plantOne)) (def plantTwo (this --> plantTwo)) (def plantThree (this --> plantThree)) (def temp (plantOne --> grow ())) (def temp (plantTwo --> grow ())) (def temp (plantThree --> grow ())) 0.0 ) (method killAndReplant () (def zero 0.0) (def plantOne (this --> plantOne)) (def plantTwo (this --> plantTwo)) (def plantThree (this --> plantThree)) (plantOne --> height = 0.0) (plantOne --> age = 0.0) (plantTwo --> height = 0.0) (plantTwo --> age = 0.0) (plantThree --> height = 0.0) (plantThree --> age = 0.0) 0.0 ) ) ( ( (plantOne ( ((age Number) (height Number)) ( (grow () ( ((first Number) (second Number)) () ) ) (trimToHeight (Number) Number ) ) ) ) (plantTwo ( ((age Number) (height Number)) ( (grow () ( ((first Number) (second Number)) () ) ) (trimToHeight (Number) Number ) ) ) ) (plantThree ( ((age Number) (height Number)) ( (grow () ( ((first Number) (second Number)) () ) ) (trimToHeight (Number) Number ) ) ) ) ) ( (getAllHeights () ( ((first Number) (second Number) (third Number)) () ) ) (getAllAges () ( ((first Number) (second Number) (third Number)) () ) ) (growPlantTwo () ( ((first Number) (second Number)) () ) ) (growAll () Number ) (killAndReplant () Number ) ) ) ) (import plant) (import garden) (import triple) (def one 1.0) (def two 2.0) (def three 3.0) (def four 4.0) (def five 5.0) (def six 6.0) (def seven 7.0) (def plantOne (new Plant (one three))) (def plantTwo (new Plant (three five))) (def plantThree (new Plant (five one))) (def garden (new ThreePlantGarden (plantOne plantTwo plantThree))) (def temp (garden --> growPlantTwo ())) (def temp (garden --> growAll ())) (def heights (garden --> getAllHeights ())) (def expected (new NumTriple (four seven two))) (def result 0.5) (def failure -420.0) (if0 (heights == expected) (block (def temp (garden --> growPlantTwo ())) (def age (temp --> first)) (def height (temp --> second)) (def temp (garden --> killAndReplant ())) (def shouldBeZero (plantOne --> age)) (result = (age + height)) (result = (result + shouldBeZero)) ) (result = failure) ) result )